jQuery(function($){var UserSelector=function(select,options){var self=this;return self.$select=$(select),self.options=options,"undefined"!=typeof self.options&&("ajax"===self.options.mode?self.configureAjaxBehavior():self.configureInlineBehavior())};$.extend(UserSelector.prototype,{configureAjaxBehavior:function(){var self=this,options=$.extend(!0,{},self.options.select2,{ajax:{data:function(params){return params.security=self.options.security,params.listing_id=self.options.listing_id,params},processResults:function(data){if(!data.status)return{results:{}};var items=$.map(data.items,function(item){return{id:item.ID,text:item.user_login}});return{results:items}}}});if(self.$select.selectWoo(options),self.options.selected.id){var option=new Option(self.options.selected.text,self.options.selected.id,(!0),(!0));self.$select.append(option).trigger("change")}self.setupEventHandlers()},setupEventHandlers:function(){var self=this;self.$select.on("change.select2",function(){self.onChange()})},configureInlineBehavior:function(){var self=this;self.$select.selectWoo(self.options.select2),self.setupEventHandlers()},onChange:function(){var self=this;$.isFunction(self.options.onChange)&&self.options.onChange(self.getSelectedUser())},getSelectedUser:function(){var self=this,users=self.$select.selectWoo("data");return users&&users.length?{id:users[0].id,name:users[0].text}:{id:0,name:""}},clearSelectedUser:function(){var self=this;self.$select.val(null).trigger("change")}}),$(document).ready(function(){$userSelect=$("#wpbdp-listing-owner").find(".wpbdp-user-selector"),$userSelect.length>0&&($userSelector=new UserSelector($userSelect,$userSelect.data("configuration")))})});