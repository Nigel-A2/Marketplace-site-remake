var Reusables=Reusables||{};Reusables.Breakpoints=function($){var generateKey=function(){var nextKey=1;return function(){var key="breakpoint-"+nextKey;return nextKey++,key}}(),Queue=function(){var callbacks=[];this.push=function(callback){callbacks.push(callback)},this.process=function(){for(;0!==callbacks.length;)callbacks.pop()()}},enterQueue=new Queue,Breakpoint=function($elements,range,options){return this.$elements=$elements,this.range=range,this.options=options,this.key=generateKey(),this.elements=function(){var elements,isFunction="function"==typeof $elements,isString="string"==typeof $elements,isJQuery=!1;$elements&&$elements instanceof jQuery?isJQuery=!0:$elements&&$elements.constructor.prototype.jquery&&(isJQuery=!0);var hasSelector=isJQuery&&!!$elements.selector;return isFunction?elements=$elements:isString?elements=function(){return $($elements)}:isJQuery&&hasSelector?elements=function(){return $($elements.selector)}:isJQuery&&(elements=function(){return $elements}),elements}(),this.min=range[0]||0,this.max=range[1]||1/0,this.name=function(name,min,max){return name?name:(max=max===1/0?"up":max,["breakpoint",min,max].join("-"))}(options.name,this.min,this.max),"function"==typeof options.enter?this.enter=options.enter:this.enter=function(){},"function"==typeof options.exit?this.exit=options.exit:this.exit=function(){},this};Breakpoint.prototype.evaluate=function(){var breakpoint=this;breakpoint.elements().each(function(index,element){var $element=$(element),width=$element.outerWidth(),matchNow=breakpoint.min<=width&&width<breakpoint.max,matchBefore=$element.data(breakpoint.key)||!1,change=matchNow!==matchBefore;if(change){$element.data(breakpoint.key,matchNow);var entering=change&&matchNow,exiting=change&&!matchNow;entering?enterQueue.push(function(){$element.addClass(breakpoint.name),breakpoint.enter($element)}):exiting&&($element.removeClass(breakpoint.name),breakpoint.exit($element))}})};var Breakpoints={},Builder=function($elements){this.$elements=$elements};return Breakpoints.on=function($elements){return new Builder($elements)},function(){var breakpoints=[];Builder.prototype.define=function(range,options){return breakpoints.push(new Breakpoint(this.$elements,range,options)),this},Breakpoints.evaluate=function(){for(var length=breakpoints.length,i=0;i<length;i++)breakpoints[i].evaluate();enterQueue.process()}}(),Breakpoints.scan=function($element){$element.find("[data-breakpoints]").each(function(){Breakpoints.register($(this))}),Reusables.Breakpoints.evaluate()},Breakpoints.register=function($element){var builder=Reusables.Breakpoints.on($element),prefix=$element.attr("data-breakpoints-class-prefix")||"breakpoint",breakpoints=JSON.parse($element.attr("data-breakpoints"));$.isPlainObject(breakpoints)&&($.each(breakpoints,function(name,range){builder.define(range,{name:prefix+"-"+name})}),$element.removeClass(prefix+"-no-bp"))},$(window).on("resize.reusables.breakpoints",Breakpoints.evaluate),Breakpoints}(jQuery),"undefined"!=typeof jQuery&&jQuery(function($){Reusables.Breakpoints.scan($("body"))});