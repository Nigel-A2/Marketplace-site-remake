var y=Object.defineProperty,k=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var c=(t,i,e)=>i in t?y(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,o=(t,i)=>{for(var e in i||(i={}))I.call(i,e)&&c(t,e,i[e]);if(l)for(var e of l(i))A.call(i,e)&&c(t,e,i[e]);return t},u=(t,i)=>k(t,E(i));import{n,V as r}from"./js/vueComponentNormalizer.87056a83.js";import{c as _}from"./js/index.652636d3.js";import{T as x}from"./js/index.97b1f655.js";import{a as f,g as w,m as a,s as T}from"./js/index.8900b7f9.js";import{T as $}from"./js/ToolsSettings.a9d9524e.js";import{a as S,t as N}from"./js/helpers.aa477dea.js";import"./js/context.04ada340.js";import{T as C}from"./js/TruSeoScore.4bc8e535.js";import{S as P}from"./js/Close.5e7bcb70.js";import"./js/client.94d919c5.js";import"./js/_commonjsHelpers.f40d732e.js";import"./js/default-i18n.abde8d59.js";import"./js/constants.7cd698f2.js";import"./js/isArrayLikeObject.a4a9229a.js";import"./js/cleanForSlug.f1163528.js";var q=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"aioseo-score-button",class:t.scoreClass,attrs:{id:t.getId}},[t._v(" "+t._s(this.score===0?"N/A":this.score+"/100")+" ")])},b=[];const M={props:{score:{type:Number,default(){return 0}},postId:{type:Number,default(){return 0}}},computed:{scoreClass:function(){return 80<this.score?"score-green":50<this.score?"score-orange":1<this.score?"score-red":"score-disabled"},getId:function(){return`score-button-${this.postId}`}}},d={};var L=n(M,q,b,!1,j,null,null,null);function j(t){for(let i in d)this[i]=d[i]}var U=function(){return L.exports}(),B=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"aioseo-details-column",class:{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}},[e("div",[this.$root._data.screen.base==="edit"&&!t.isWooCommerceProduct&&t.showTruSeo&&this.$allowed("aioseo_page_analysis")&&!t.isSpecialPage?e("div",{staticClass:"edit-row"},[e("core-score-button",{attrs:{score:this.post.value,postId:t.postId}})],1):t._e(),this.$allowed("aioseo_page_general_settings")?e("div",{staticClass:"edit-row edit-title"},[e("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(s){return s.preventDefault(),t.editTitle.apply(null,arguments)}}}),e("strong",[t._v(t._s(t.strings.title)+" ")]),e("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.titleParsed,100))}})]):t._e(),t.showEditTitle?e("div",{staticClass:"edit-row"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}),t._v(" "),e("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(s){return s.preventDefault(),t.save.apply(null,arguments)}}},[e("svg-circle-check",{attrs:{width:"20"}})],1),e("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(s){return s.preventDefault(),t.cancel.apply(null,arguments)}}},[e("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),this.$allowed("aioseo_page_general_settings")?e("div",{staticClass:"edit-row edit-description"},[e("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(s){return s.preventDefault(),t.editDescription.apply(null,arguments)}}}),e("strong",[t._v(t._s(t.strings.description)+" ")]),e("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.descriptionParsed))}})]):t._e(),t.showEditDescription?e("div",{staticClass:"edit-row"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postDescription,expression:"postDescription"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.postDescription},on:{input:function(s){s.target.composing||(t.postDescription=s.target.value)}}}),t._v(" "),e("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(s){return s.preventDefault(),t.save.apply(null,arguments)}}},[e("svg-circle-check",{attrs:{width:"20"}})],1),e("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(s){return s.preventDefault(),t.cancel.apply(null,arguments)}}},[e("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),t._t("default"),this.$root._data.screen.base==="upload"&&t.post.showMedia?e("div",{staticClass:"edit-row edit-image-title"},[e("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(s){return s.preventDefault(),t.editImageTitle.apply(null,arguments)}}}),e("strong",[t._v(t._s(t.strings.imageTitle)+" ")]),e("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.imageTitle)}})]):t._e(),t.showEditImageTitle?e("div",{staticClass:"edit-row"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageTitle,expression:"imageTitle"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.imageTitle},on:{input:function(s){s.target.composing||(t.imageTitle=s.target.value)}}}),t._v(" "),e("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(s){return s.preventDefault(),t.saveImage.apply(null,arguments)}}},[e("svg-circle-check",{attrs:{width:"20"}})],1),e("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(s){return s.preventDefault(),t.cancel.apply(null,arguments)}}},[e("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),this.$root._data.screen.base==="upload"&&t.post.showMedia?e("div",{staticClass:"edit-row edit-image-alt"},[e("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(s){return s.preventDefault(),t.editImageAlt.apply(null,arguments)}}}),e("strong",[t._v(t._s(t.strings.imageAltTag)+" ")]),e("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.postId+"-value"},domProps:{innerHTML:t._s(t.imageAltTag)}})]):t._e(),t.showEditImageAltTag?e("div",{staticClass:"edit-row"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.imageAltTag,expression:"imageAltTag"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.imageAltTag},on:{input:function(s){s.target.composing||(t.imageAltTag=s.target.value)}}}),t._v(" "),e("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(s){return s.preventDefault(),t.saveImage.apply(null,arguments)}}},[e("svg-circle-check",{attrs:{width:"20"}})],1),e("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(s){return s.preventDefault(),t.cancel.apply(null,arguments)}}},[e("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e()],2)])},H=[];const R={components:{CoreScoreButton:U,SvgCircleCheck:_,SvgCircleClose:P},mixins:[$,C],props:{post:Object},data(){return{postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,strings:{title:"Title:",description:"Description:",imageTitle:"Image Title:",imageAltTag:"Image Alt Tag:",edit:"Edit",save:"Save",cancel:"Cancel",wait:"Please wait..."}}},computed:u(o({},f(["options","currentPost"])),{isWooCommerceProduct(){return!!(window.aioseo.data.isWooCommerceActive&&this.$root._data.screen.postType==="product")}}),methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(t=>{this.titleParsed=t.body.title,this.descriptionParsed=t.body.description,this.$root._data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(t=>{console.error(`Unable to update post with ID ${this.post.id}: ${t}`)})},saveImage(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,this.$http.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{}).catch(t=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${t}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},updatePostTitle(t,i){const e=document.getElementById(`post-${t}`);if(!e)return;const s=e.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!s)return;const D=s.getElementsByTagName("span")[0];s.innerText=i,s.prepend(D)}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed},async created(){const{options:t,currentPost:i,tags:e}=await w(this.$http);this.$set(this.$store.state,"options",a(o({},this.$store.state.options),o({},t))),this.$set(this.$store.state,"currentPost",a(o({},this.$store.state.currentPost),o({},i))),this.$set(this.$store.state,"tags",a(o({},this.$store.state.tags),o({},e))),this.showTruSeo=S()}},p={};var F=n(R,B,H,!1,O,null,null,null);function O(t){for(let i in p)this[i]=p[i]}var W=function(){return F.exports}(),z=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("core-post-column",{attrs:{post:t.post}})},V=[];const G={components:{CorePostColumn:W},props:{post:Object}},m={};var J=n(G,z,V,!1,K,null,null,null);function K(t){for(let i in m)this[i]=m[i]}var h=function(){return J.exports}(),Q=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.$isPro?e("PostColumn",{attrs:{post:t.post}}):t._e(),t.$isPro?t._e():e("PostColumnLite",{attrs:{post:t.post}})],1)},X=[];const Y={components:{PostColumn:h,PostColumnLite:h},props:{post:Object}},g={};var Z=n(Y,Q,X,!1,tt,null,null,null);function tt(t){for(let i in g)this[i]=g[i]}var et=function(){return Z.exports}(),st=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"aioseo-details-column",class:{editing:t.showEditTitle||t.showEditDescription}},[e("div",[e("div",{staticClass:"edit-row edit-title"},[e("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(s){return s.preventDefault(),t.editTitle.apply(null,arguments)}}}),e("strong",[t._v(t._s(t.strings.title)+" ")]),e("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.termId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.titleParsed,100))}})]),t.showEditTitle?e("div",{staticClass:"edit-row"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}),t._v(" "),e("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(s){return s.preventDefault(),t.save.apply(null,arguments)}}},[e("svg-circle-check",{attrs:{width:"20"}})],1),e("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(s){return s.preventDefault(),t.cancel.apply(null,arguments)}}},[e("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e(),e("div",{staticClass:"edit-row edit-description"},[e("a",{staticClass:"dashicons dashicons-edit aioseo-quickedit",attrs:{title:t.strings.edit},on:{click:function(s){return s.preventDefault(),t.editDescription.apply(null,arguments)}}}),e("strong",[t._v(t._s(t.strings.description)+" ")]),e("span",{attrs:{id:"aioseo-"+t.columnName+"-"+t.termId+"-value"},domProps:{innerHTML:t._s(t.truncate(t.descriptionParsed))}})]),t.showEditDescription?e("div",{staticClass:"edit-row"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.termDescription,expression:"termDescription"}],staticClass:"aioseo-quickedit-input",attrs:{rows:"4",columns:"32"},domProps:{value:t.termDescription},on:{input:function(s){s.target.composing||(t.termDescription=s.target.value)}}}),t._v(" "),e("a",{staticClass:"dashicons aioseo-quickedit-input-save",attrs:{title:t.strings.save},on:{click:function(s){return s.preventDefault(),t.save.apply(null,arguments)}}},[e("svg-circle-check",{attrs:{width:"20"}})],1),e("a",{staticClass:"dashicons aioseo-quickedit-input-cancel",attrs:{title:t.strings.cancel},on:{click:function(s){return s.preventDefault(),t.cancel.apply(null,arguments)}}},[e("svg-circle-close",{attrs:{width:"20"}})],1)]):t._e()])])},it=[];const ot={components:{SvgCircleCheck:_,SvgCircleClose:P},mixins:[$,C],props:{term:Object},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,strings:{title:"Title:",description:"Description:",edit:"Edit",save:"Save",cancel:"Cancel",wait:"Please wait..."}}},computed:o({},f(["options","currentPost"])),methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,this.$http.post(this.$links.restUrl("termscreen")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(t=>{this.titleParsed=t.body.title,this.descriptionParsed=t.body.description}).catch(t=>{console.error(`Unable to update term with ID ${this.term.id}: ${t}`)})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0}},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed},async created(){const{options:t,currentPost:i,tags:e}=await w(this.$http);this.$set(this.$store.state,"options",a(o({},this.$store.state.options),o({},t))),this.$set(this.$store.state,"currentPost",a(o({},this.$store.state.currentPost),o({},i))),this.$set(this.$store.state,"tags",a(o({},this.$store.state.tags),o({},e))),this.showTruSeo=N()}},v={};var at=n(ot,st,it,!1,nt,null,null,null);function nt(t){for(let i in v)this[i]=v[i]}var rt=function(){return at.exports}();r.prototype.$truSeo=new x;window.aioseo.posts&&window.aioseo.posts.forEach(t=>{new r({store:T,data:{screen:window.aioseo.screen},render:i=>i(et,{props:{post:t}})}).$mount(`#${t.columnName}-${t.id}`)});window.aioseo.terms&&window.aioseo.posts.length===0&&window.aioseo.terms.forEach(t=>{new r({store:T,data:{screen:window.aioseo.screen},render:i=>i(rt,{props:{term:t}})}).$mount(`#${t.columnName}-${t.id}`)});
