var g=Object.defineProperty;var c=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var u=(t,a,e)=>a in t?g(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,p=(t,a)=>{for(var e in a||(a={}))h.call(a,e)&&u(t,e,a[e]);if(c)for(var e of c(a))v.call(a,e)&&u(t,e,a[e]);return t};import{C as f}from"./index.652636d3.js";import{C as y}from"./Tooltip.3ec20ff5.js";import{a as k}from"./index.8900b7f9.js";import{n as l}from"./vueComponentNormalizer.87056a83.js";import{T as w}from"./Slide.f5d21606.js";var C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"aioseo-wp-additional-filters alignleft actions"},[t._l(t.additionalFilters,function(s,n){return[e("label",{key:n+"_label",staticClass:"screen-reader-text",attrs:{for:"filter-by-date"}},[t._v(t._s(s.label))]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedFilters[s.name],expression:"selectedFilters[filter.name]"}],key:n+"_select",attrs:{name:s.name},on:{change:[function(r){var o=Array.prototype.filter.call(r.target.options,function(i){return i.selected}).map(function(i){var _="_value"in i?i._value:i.value;return _});t.$set(t.selectedFilters,s.name,r.target.multiple?o:o[0])},function(r){return t.$emit("change",{name:s.name,selectedValue:r.target.value})}]}},t._l(s.options,function(r,o){return e("option",{key:o,domProps:{value:r.value}},[t._v(" "+t._s(r.label)+" ")])}),0)]}),e("input",{staticClass:"button action",attrs:{type:"submit"},domProps:{value:t.strings.filter},on:{click:function(s){return t.$emit("process-additional-filters",t.selectedFilters)}}})],2)},A=[];const N={props:{additionalFilters:{type:Array,required:!0}},data(){return{strings:{filter:"Filter"}}},computed:p({},k("redirects",["selectedFilters"])),mounted(){this.setInitialOptions()},updated(){this.setInitialOptions()},methods:{setInitialOptions(){this.additionalFilters.forEach(t=>{this.selectedFilters[t.name]||this.$set(this.selectedFilters,t.name,t.options[0].value)})}}},d={};var $=l(N,C,A,!1,F,null,null,null);function F(t){for(let a in d)this[a]=d[a]}var P=function(){return $.exports}(),T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"aioseo-wp-bulk-actions alignleft actions bulkactions"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.bulkAction,expression:"bulkAction"}],attrs:{name:"action"},on:{change:function(s){var n=Array.prototype.filter.call(s.target.options,function(r){return r.selected}).map(function(r){var o="_value"in r?r._value:r.value;return o});t.bulkAction=s.target.multiple?n:n[0]}}},[e("option",{attrs:{value:"-1"}},[t._v(t._s(t.strings.bulkActions))]),t._l(t.bulkOptions,function(s,n){return e("option",{key:n,domProps:{value:s.value}},[t._v(t._s(s.label))])})],2),e("input",{staticClass:"button action",attrs:{type:"submit"},domProps:{value:t.strings.apply},on:{click:function(s){t.bulkAction!=="-1"&&t.$emit("process-bulk-action",t.bulkAction)}}})])},R=[];const S={props:{bulkOptions:{type:Array,required:!0}},data(){return{bulkAction:"-1",strings:{bulkActions:"Bulk Actions",apply:"Apply"}}}},m={};var x=l(S,T,R,!1,B,null,null,null);function B(t){for(let a in m)this[a]=m[a]}var O=function(){return x.exports}(),I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"aioseo-wp-table"},[t.showHeader?e("div",{staticClass:"header"},[e("ul",{staticClass:"subsubsub"},t._l(t.filters,function(s,n){return e("li",{key:n,class:s.slug},[e("span",{staticClass:"name",class:{active:s.active}},[s.active?t._e():e("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),t.processFilter(s)}}},[t._v(" "+t._s(s.name)+" "),e("span",[t._v("("+t._s(t.$numbers.numberFormat(s.count))+")")])]),s.active?[t._v(" "+t._s(s.name)+" "),e("span",[t._v("("+t._s(t.$numbers.numberFormat(s.count))+")")])]:t._e()],2),n+1<t.filters.length?e("span",{staticClass:"separator"},[t._v("|")]):t._e()])}),0),t.showSearch?e("p",{staticClass:"search-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],attrs:{type:"search",id:"post-search-input",name:"s"},domProps:{value:t.searchTerm},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.$emit("search",t.searchTerm)},input:function(s){s.target.composing||(t.searchTerm=s.target.value)}}}),e("input",{staticClass:"button",attrs:{type:"submit",id:"search-submit"},domProps:{value:t.searchLabel},on:{click:function(s){return s.preventDefault(),t.$emit("search",t.searchTerm)}}})]):t._e(),e("div",{staticClass:"tablenav top"},[t.showBulkActions&&t.bulkOptions&&t.bulkOptions.length?e("core-wp-bulk-actions",{attrs:{"bulk-options":t.bulkOptions},on:{"process-bulk-action":t.processBulkAction}}):t._e(),t.additionalFilters&&t.additionalFilters.length?e("core-wp-additional-filters",{attrs:{"additional-filters":t.additionalFilters},on:{change:function(s){return t.$emit("additional-filter-option-selected",s)},"process-additional-filters":t.processAdditionalFilters}}):t._e(),t.showPagination?e("div",{staticClass:"tablenav-pages pagination"},[e("span",{staticClass:"displaying-num"},[t._v(t._s(t.$numbers.numberFormat(t.totals.total))+" "+t._s(t.strings.items))]),e("span",{staticClass:"pagination-links"},[e(t.pageNumber===1?"span":"a",{tag:"component",class:t.pageNumber===1?"tablenav-pages-navspan button disabled":"first-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.pageNumber===1||t.toPage(1)}}},[t._v(" \xAB ")]),e(t.pageNumber===1?"span":"a",{tag:"component",class:t.pageNumber===1?"tablenav-pages-navspan button disabled":"prev-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.pageNumber===1||t.toPage(t.pageNumber-1)}}},[t._v("\u2039")]),e("span",{staticClass:"paging-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pageNumber,expression:"pageNumber"}],staticClass:"current-page",attrs:{type:"number",name:"paged",size:"2",min:1,max:t.totals.pages,step:1,"aria-describedby":"table-paging",disabled:!t.totals.pages},domProps:{value:t.pageNumber},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.toPage(t.pageNumber)},input:function(s){s.target.composing||(t.pageNumber=s.target.value)}}}),e("span",{staticClass:"tablenav-paging-text"},[t._v(" "+t._s(t.strings.of)+" "+t._s(t.totals.pages)+" ")])]),e(t.pageNumber===t.totals.pages||!t.totals.pages?"span":"a",{tag:"component",class:t.pageNumber===t.totals.pages||!t.totals.pages?"tablenav-pages-navspan button disabled":"next-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.pageNumber===t.totals.pages||!t.totals.pages||t.toPage(t.pageNumber+1)}}},[t._v(" \u203A ")]),e(t.pageNumber===t.totals.pages||!t.totals.pages?"span":"a",{tag:"component",class:t.pageNumber===t.totals.pages||!t.totals.pages?"tablenav-pages-navspan button disabled":"last-page button",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.pageNumber===t.totals.pages||!t.totals.pages||t.toPage(t.totals.pages)}}},[t._v(" \xBB ")])],1)]):t._e(),e("br",{staticClass:"clear"})],1)]):t._e(),e("div",{staticClass:"wp-table"},[e("table",{ref:"table",staticClass:"wp-list-table widefat fixed",attrs:{cellpadding:"0",cellspacing:"0","aria-label":"Paginated Table"}},[e("thead",[e("tr",[t.showBulkActions?e("td",{staticClass:"manage-column column-cb check-column"},[e("input",{attrs:{type:"checkbox",disabled:t.loading}})]):t._e(),t._l(t.columns,function(s,n){return e("th",{key:n,staticClass:"manage-column",class:[{sortable:s.sortable,asc:s.sortDir==="asc"&&s.sortable,desc:s.sortDir==="desc"&&s.sortable,sorted:s.sortable&&s.sorted},s.slug],style:{width:s.width},attrs:{scope:"col"}},[!s.tooltipIcon&&s.sortable?[e("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),function(o){return t.$emit("sort-column",s,o)}.apply(null,arguments)}}},[e("span",[t._v(t._s(s.label))]),e("span",{staticClass:"sorting-indicator"})])]:t._e(),!s.tooltipIcon&&!s.sortable?[t._v(" "+t._s(s.label)+" ")]:t._e(),s.tooltipIcon?[e("div",{staticClass:"aioseo-table-header-tooltip-icon"},[e("core-tooltip",{staticClass:"action",attrs:{type:"action"},scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v(" "+t._s(s.label)+" ")]},proxy:!0}],null,!0)},[e(s.tooltipIcon,{tag:"component"})],1)],1)]:t._e()],2)})],2)]),t.rows?e("tbody",{attrs:{id:"the-list"}},[t.loading?e("div",{staticClass:"loader-overlay"},[e("core-loader")],1):t._e(),t._l(t.rows,function(s,n){return[e("tr",{key:n+"_"+s.id,staticClass:"main-row",class:{even:n%2===0,enabled:s.enabled||!s.hasOwnProperty("enabled")},attrs:{"data-row-id":s.id||s.url||n}},[t.showBulkActions?e("th",{staticClass:"check-column",attrs:{scope:"row"}},[e("input",{attrs:{type:"checkbox"}})]):t._e(),t._l(t.columns,function(r,o){return e("td",{key:o},[t.$scopedSlots[r.slug]?[t._t(r.slug,null,{row:s,column:s[r.slug],editRow:t.editRow,index:n,editRowActive:t.activeRow===n})]:t._e(),t.$scopedSlots[r.slug]?t._e():e("span",[t._v(" "+t._s(s[r.slug])+" ")])],2)})],2),e("tr",{key:n+"_edit",staticClass:"edit-row",class:{even:n%2===0}},[e("td",{staticClass:"edit-row-content",attrs:{colspan:t.showBulkActions?t.columns.length+1:t.columns.length}},[e("transition-slide",{staticClass:"wrapper",attrs:{tag:"div",active:n===t.activeRow}},[e("div",{staticClass:"border"},[t._t("edit-row",null,{row:s,index:n,editRow:t.editRow})],2)])],1)])]}),t.rows.length?t._e():[e("td",{attrs:{colspan:t.columns.length+1}},[e("div",{staticClass:"no-results"},[t.loading?t._e():e("span",[t._v(t._s(t.strings.noResults))])])])]],2):t._e(),t.showTableFooter?e("tfoot",[e("tr",[t.showBulkActions?e("td",{staticClass:"manage-column column-cb check-column"},[e("input",{attrs:{type:"checkbox",disabled:t.loading}})]):t._e(),t._l(t.columns,function(s,n){return e("th",{key:n,staticClass:"manage-column",style:{width:s.width},attrs:{scope:"col"}},[t._v(" "+t._s(s.label)+" ")])})],2)]):t._e()])]),t.showTableFooter?e("div",{staticClass:"tablenav bottom"},[t.showBulkActions&&t.bulkOptions&&t.bulkOptions.length?e("core-wp-bulk-actions",{attrs:{"bulk-options":t.bulkOptions},on:{"process-bulk-action":t.processBulkAction}}):t._e(),e("div",{staticClass:"alignleft actions"}),t.showPagination?e("div",{staticClass:"tablenav-pages"},[e("span",{staticClass:"displaying-num"},[t._v(t._s(t.totals.total)+" "+t._s(t.strings.items))])]):t._e(),e("br",{staticClass:"clear"})],1):t._e()])},q=[];const D={components:{CoreLoader:f,CoreTooltip:y,CoreWpAdditionalFilters:P,CoreWpBulkActions:O,TransitionSlide:w},props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},filters:{type:Array,required:!1},totals:{type:Object,required:!1},loading:Boolean,showSearch:{type:Boolean,default(){return!0}},showBulkActions:{type:Boolean,default(){return!0}},showPagination:{type:Boolean,default(){return!0}},showTableFooter:{type:Boolean,default(){return!0}},showHeader:{type:Boolean,default(){return!0}},searchLabel:{type:String,default(){return"Search"}},initialPageNumber:{type:Number,default(){return 1}},initialSearchTerm:{type:String,default(){return""}},bulkOptions:Array,additionalFilters:Array},data(){return{searchTerm:"",pageNumber:1,activeRow:null,strings:{of:"of",items:"items",noResults:"No items found."}}},watch:{pageNumber(t){if(Math.abs(t)!==t){this.pageNumber=Math.floor(t);return}if(this.totals&&t>this.totals.pages){this.pageNumber=this.totals.pages;return}1>t&&(this.pageNumber=1)}},methods:{editRow(t){if(t===null||this.activeRow===t){this.activeRow=null;return}this.activeRow=t},processBulkAction(t){this.$emit("process-bulk-action",{action:t,selectedRows:this.selectedItems()}),this.resetSelectedItems()},processFilter(t){this.pageNumber=1,this.searchTerm="",this.$emit("filter-table",t)},processAdditionalFilters(t){this.pageNumber=1,this.searchTerm="",this.$emit("process-additional-filters",{filters:t})},selectedItems(){const t=this.$refs.table.querySelectorAll("tbody tr.main-row"),a=[];return t.forEach(e=>{e.querySelector("th.check-column input").checked&&a.push(e.dataset.rowId)}),a},resetSelectedItems(){const t=this.$refs.table.querySelectorAll(".check-column input:checked");t&&t.forEach(a=>a.checked=!1)},toPage(t){this.pageNumber=t,this.$emit("paginate",t,this.searchTerm)},setPageNumber(t){this.pageNumber=t}},mounted(){this.pageNumber=this.initialPageNumber,this.searchTerm=this.initialSearchTerm}},b={};var E=l(D,I,q,!1,L,null,null,null);function L(t){for(let a in b)this[a]=b[a]}var V=function(){return E.exports}();export{V as C};
